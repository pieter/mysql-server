#
# tests that require InnoDB...
#

-- source include/have_innodb.inc

delimiter |;

#
# BUG#8850: Truncate table in a stored procedure locks the tables
#
--disable_warnings
drop procedure if exists bug8850|
--enable_warnings
create table t1 (a int) engine=innodb|
create procedure bug8850()
begin
  truncate table t1; insert t1 values (1); rollback;
end|

set autocommit=0|
insert t1 values (2)|
call bug8850()|
commit|
select * from t1|

call bug8850()|
set autocommit=1|
select * from t1|
drop table t1|
drop procedure bug8850|


#
# BUG#NNNN: New bug synopsis
#
#--disable_warnings
#drop procedure if exists bugNNNN|
#--enable_warnings
#create procedure bugNNNN...

delimiter ;|
