SET @@storage_engine = Falcon;

#
# Bug#25393: Falcon: TRUNCATE causes activation of DELETE trigger
#

DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;

CREATE TABLE t1 (c1 INT) ENGINE=falcon;
CREATE TABLE t2 (c1 INT) ENGINE=falcon;

CREATE TRIGGER t1_ad AFTER DELETE ON t1 FOR EACH ROW INSERT INTO t2 VALUES (1);

INSERT INTO t1 VALUES (1);

TRUNCATE TABLE t1;

SELECT * FROM t2;
c1

DROP TABLE t1, t2;
