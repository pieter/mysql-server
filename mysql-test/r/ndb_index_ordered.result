drop table if exists t1;
CREATE TABLE t1 (
a int unsigned NOT NULL PRIMARY KEY,
b int unsigned not null,
c int unsigned,
KEY(b)	
) engine=ndbcluster;
insert t1 values(1, 2, 3), (2,3, 5), (3, 4, 6), (4, 5, 8), (5,6, 2), (6,7, 2);
select * from t1 order by b;
a	b	c
1	2	3
2	3	5
3	4	6
4	5	8
5	6	2
6	7	2
select * from t1 where b >= 4 order by b;
a	b	c
3	4	6
4	5	8
5	6	2
6	7	2
select * from t1 where b = 4 order by b;
a	b	c
3	4	6
select * from t1 where b > 4 order by b;
a	b	c
4	5	8
5	6	2
6	7	2
select * from t1 where b < 4 order by b;
a	b	c
1	2	3
2	3	5
select * from t1 where b <= 4 order by b;
a	b	c
1	2	3
2	3	5
3	4	6
update t1 set c = 3 where b = 3;
select * from t1 order by a;
a	b	c
1	2	3
2	3	3
3	4	6
4	5	8
5	6	2
6	7	2
update t1 set c = 10 where b >= 6;
select * from t1 order by a;
a	b	c
1	2	3
2	3	3
3	4	6
4	5	8
5	6	10
6	7	10
update t1 set c = 11 where b < 5;
select * from t1 order by a;
a	b	c
1	2	11
2	3	11
3	4	11
4	5	8
5	6	10
6	7	10
update t1 set c = 12 where b > 0;
select * from t1 order by a;
a	b	c
1	2	12
2	3	12
3	4	12
4	5	12
5	6	12
6	7	12
update t1 set c = 13 where b <= 3;
select * from t1 order by a;
a	b	c
1	2	13
2	3	13
3	4	12
4	5	12
5	6	12
6	7	12
drop table t1;
CREATE TABLE t1 (
a int unsigned NOT NULL PRIMARY KEY,
b int unsigned not null,
c int unsigned,
KEY(b)	
) engine=ndbcluster;
insert t1 values(1, 2, 13), (2,3, 13), (3, 4, 12), (4, 5, 12), (5,6, 12), (6,7, 12);
delete from t1 where b = 3;
select * from t1 order by a;
a	b	c
1	2	13
3	4	12
4	5	12
5	6	12
6	7	12
delete from t1 where b >= 6;
select * from t1 order by a;
a	b	c
1	2	13
3	4	12
4	5	12
delete from t1 where b < 4;
select * from t1 order by a;
a	b	c
3	4	12
4	5	12
delete from t1 where b > 5;
select * from t1 order by a;
a	b	c
3	4	12
4	5	12
delete from t1 where b <= 4;
select * from t1 order by a;
a	b	c
4	5	12
drop table t1;
