--source include/have_falcon.inc
SET STORAGE_ENGINE = Falcon;
#
# Bug #23189 Falcon: crash if create index for long varchar
#
--echo *** Bug #23189 ***
--disable_warnings
DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
--enable_warnings

CREATE TABLE t1 (a varchar(1100));
INSERT INTO t1 VALUES (repeat('r',1100));
CREATE INDEX i ON t1 (a);

CREATE TABLE t2 (a varchar(20000));
INSERT INTO t2 VALUES (repeat('r',20000));
CREATE INDEX i ON t2 (a);

# Final cleanup.
DROP TABLE t1;
DROP TABLE t2;
