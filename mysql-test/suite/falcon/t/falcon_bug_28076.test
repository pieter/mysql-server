SET storage_engine = Falcon;
#
# Bug #28076: Falcon: inconsistent binary/varbinary comparison
#
--echo *** Bug #28076 ***
--disable_warnings
DROP TABLE IF EXISTS t1;
--enable_warnings

CREATE TABLE t1 (s1 binary(5), s2 varbinary(5));
INSERT INTO t1 VALUES (0x41, 0x41);
SELECT hex(s1),hex(s2) FROM t1;
SELECT hex(s1),hex(s2) FROM t1 WHERE s1 IN (SELECT s2 FROM t1);
SELECT hex(s1),hex(s2) FROM t1 WHERE s2 IN (SELECT s1 FROM t1);
CREATE INDEX i1 on t1 (s1);
CREATE INDEX i2 on t1 (s2);
SELECT hex(s1),hex(s2) FROM t1 WHERE s1 IN (SELECT s2 FROM t1);
SELECT hex(s1),hex(s2) FROM t1 WHERE s2 IN (SELECT s1 FROM t1);

# Final cleanup.
DROP TABLE t1;

