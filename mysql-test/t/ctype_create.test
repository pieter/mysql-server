#
# Test for various CREATE statements and character sets
#


# Check that the database charset is taken from server charset by default:
# - Change local character_set_server variable to latin5.
# - Create database with and without CHARACTER SET specification.
# At the same time check fix for the
# Bug#2151:
# "USE db" with non-default character set should never affect 
# further CREATE DATABASEs.


SET @@character_set_server=latin5;
CREATE DATABASE db1 DEFAULT CHARACTER SET cp1251;
USE db1;
CREATE DATABASE db2;

#
# This should be cp1251
#
SHOW CREATE DATABASE db1;

#
# This should take the default latin5 value from server level.
#
SHOW CREATE DATABASE db2;
DROP DATABASE db2;

#
# Check that table value uses database level by default
#
USE db1;
CREATE TABLE t1 (a char(10));
SHOW CREATE TABLE t1;

DROP TABLE t1;
DROP DATABASE db1;
