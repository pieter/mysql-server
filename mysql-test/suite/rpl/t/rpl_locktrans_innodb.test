# t/rpl_locktrans_innodb.test
#
# Transactional LOCK TABLE tests

# Transactional lock tests require multiple sessions.
--source include/not_embedded.inc

# This is a replication test.
--source include/master-slave.inc

--source include/have_innodb.inc
let $engine_type= InnoDB;

# Storage engine supports transactions.
let $transactional= 1;

# Storage engine supports the NOWAIT option.
let $nowait_support= 1;

# Define a storage engine that does not support transactional locking.
let $other_non_trans_engine_type= MyISAM;

--source include/locktrans.inc

sync_slave_with_master;
connection slave;
--replace_result $MASTER_MYPORT MASTER_PORT
--replace_column 1 # 7 # 8 # 9 # 22 # 23 # 33 #
--query_vertical show slave status;

