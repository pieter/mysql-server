SET storage_engine = Falcon;
*** Bug #22564 ***
DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
DROP TABLE IF EXISTS t3;
CREATE TABLE t1 (a int auto_increment, b int, c int, key (a, b, c));
INSERT INTO t1 VALUES (null, 1, 1);
INSERT INTO t1 (b, c) VALUES (2,2), (3,3), (4,4);
SELECT * FROM t1 ORDER BY a;
a	b	c
1	1	1
2	2	2
3	3	3
4	4	4
CREATE TABLE t2 (a int, b int auto_increment, c int, key (b, a, c));
INSERT INTO t2 VALUES (1, null, 1);
INSERT INTO t2 (a, c) VALUES (2,2), (3,3), (4,4);
SELECT * FROM t2 ORDER BY b;
a	b	c
1	1	1
2	2	2
3	3	3
4	4	4
CREATE TABLE t3 (a int, b int auto_increment, c int, key (a, b, c));
ERROR 42000: Incorrect table definition; there can be only one auto column and it must be defined as a key
SHOW TABLES;
Tables_in_test
t1
t2
DROP TABLE t1;
DROP TABLE t2;
